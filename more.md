<div id="container">
# Network Flow

## Introduction

I was first introduced to network flow in CS201: Algorithms in my final quarter of my time as an undergraduate at UC Santa Cruz. The class was taught by Professor Dimitris Achilloptas. The course loosely followed the text [Algorithm Design](http://books.google.com/books/about/Algorithm_Design.html?id=OiGhQgAACAAJ) by Jon Kleinberg and Eva Tardos. After covering the standard Greedy algorithms, Divide and Conquer, and Dynamic Programming, and with only a few weeks left of the quarter, we began studying Network Flow. I found the problems extremely challenging and inspiring, and even after graduating am still thinking about then.

## Network Flow Preliminaries

First and foremost, a Network Flow is defined on a Digraph or directed Graph. 

*Definition:* A **Graph** is defined by a set of vertices and edges $G = (V, E)$, such that for all $e \in E$, $e = \{v_1, v_2\}$ where $v_1, v_2 \in V$.

*Definition:* In a **Digraph** we make the distinction that for all $e \in E$, $e = (v_1, v_2)$. This simply indicates that the edges have a direction.

*Definition:* A **Network** is defined by extending a Digraph $G=(V,E)$ by a specification of the capacity $c(e)$ $\forall e \in E$ and two special nodes the source $s$ and the sink $t$. 

*Definition:* A **Network Flow** is an abstraction for material flowing throught the graph. Finding the solution to a network flow consists of determining the maximum flow which can be pushed throught the network from the source $s$ to the sink $t$. As we'll learn later, this is in fact equivalent to what is called the *minimum cut* of the Network.

*Remark:*  For our purposes we'll be considering network flows with integer capacity only.

## Considering a Trivial Flow

Consider the trivial flow.

<div class="svg-container">
<svg height="160" width="580" class="editor"><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="10" markerWidth="10" refX="6" viewBox="0 -5 10 10" id="end-arrow"><path d="M0,-5L10,0L0,5"></path></marker></defs><path style="" d="M58,80L527,81.19999694824219" class="link dragline hidden"></path><g><g class="link"><path d="M70,80L505,80" style="marker-end: url(&quot;#end-arrow&quot;);" id="139743228468111" class="link"></path><path d="M70,80L505,80" class="halo"></path><text><textPath startOffset="50%" xlink:href="#139743228468111"><tspan dy="-5">0 / 1</tspan></textPath></text></g></g><g><g transform="translate(58,80)" class="node"><circle style="fill: rgb(31, 119, 180); stroke: rgb(21, 83, 125);" r="12"></circle><text class="id" y="4">s</text></g><g transform="translate(522,80)" class="node"><circle style="fill: rgb(174, 199, 232); stroke: rgb(121, 139, 162);" r="12"></circle><text class="id" y="4">t</text></g></g></svg>
</div>

In this flow there is a single edge which has capacity $1$ from the source node $s$, to the sink node $t$. Clearly, given this flow we may have a maximum flow of $1$ through the network.

The flow below illustrates a core concept in network flow, namely that the maximum flow is equal to the minimum cut. We'll see what this means in a minute, but in this simple network, the flow is limited by the edge with the least capacity.

<div class="svg-container">
<svg height="160" width="580" class="editor"><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="10" markerWidth="10" refX="6" viewBox="0 -5 10 10" id="end-arrow"><path d="M0,-5L10,0L0,5"></path></marker></defs><path style="" d="M290.01424180728776,79.9999999997844L290.01424180728776,79.9999999997844" class="link dragline hidden"></path><g><g class="link"><path d="M69.99999999993658,80.00003901592389L273.0024884307849,80.00069904339382" style="marker-end: url(&quot;#end-arrow&quot;);" id="139743232831912" class="link"></path><path d="M69.99999999993658,80.00003901592389L273.0024884307849,80.00069904339382" class="halo"></path><text><textPath startOffset="50%" xlink:href="#139743232831912"><tspan dy="-5">0 / 2</tspan></textPath></text></g><g class="link"><path d="M302.0024884306316,80.0007152991918L505.00000000008987,80.00005527374456" style="marker-end: url(&quot;#end-arrow&quot;);" id="139743233044413" class="link"></path><path d="M302.0024884306316,80.0007152991918L505.00000000008987,80.00005527374456" class="halo"></path><text><textPath startOffset="50%" xlink:href="#139743233044413"><tspan dy="-5">0 / 1</tspan></textPath></text></g></g><g><g transform="translate(58,80)" class="node"><circle style="fill: rgb(31, 119, 180); stroke: rgb(21, 83, 125);" r="12"></circle><text class="id" y="4">s</text></g><g transform="translate(522,80)" class="node"><circle style="fill: rgb(174, 199, 232); stroke: rgb(121, 139, 162);" r="12"></circle><text class="id" y="4">t</text></g><g transform="translate(290.00248843069505,80.00075431595268)" class="node"><circle style="fill: rgb(255, 152, 150); stroke: rgb(178, 106, 105);" r="12"></circle><text class="id" y="4">a</text></g></g></svg>
</div>

## Maximum Flow and Minimum Cut

Lets begin with the definitions.

*Definition:* The **Maximum Flow** of a network is the maximum units of flow which can propagate through the network from the source to the sink given the capacities of each edge.

*Definition:* Technically speaking, a **cut** is a partitioning of the vertices in a graph. With respect to a network a **$\textbf{st}$-cut** is a partition $\{A,B\}$ such that $s \in A$ and $t \in B$.
Consider the following example where the vertices in $A$ are blue and the vertices in the $B$ are brown.

<div class="svg-container">
<svg viewBox="70, 100, 800, 260" height="260" width="800" class="editor active"><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="10" markerWidth="10" refX="6" viewBox="0 -5 10 10" id="end-arrow"><path d="M0,-5L10,0L0,5"></path></marker></defs><path d="M0,0L0,0" class="link dragline hidden"></path><g><g class="link"><path d="M105.71484101266599,232.60048073401035L381.92508014617107,293.91410885977604" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888101" class="link"></path><path d="M105.71484101266599,232.60048073401035L381.92508014617107,293.91410885977604" class="halo"></path><text><textPath startOffset="50%" xlink:href="#13976799888101"><tspan dy="-5">0 / 10</tspan></textPath></text></g><g class="link"><path d="M105.59071316613242,226.89269114820488L356.4103361653738,159.65144174633375" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888102" class="link"></path><path d="M105.59071316613242,226.89269114820488L356.4103361653738,159.65144174633375" class="halo"></path><text><textPath startOffset="50%" xlink:href="#13976799888102"><tspan dy="-5">0 / 10</tspan></textPath></text></g><g class="link"><path d="M396.38981897139263,285.7889056369286L375.84983490291745,171.97914580066475" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888103" class="link"></path><path d="M396.38981897139263,285.7889056369286L375.84983490291745,171.97914580066475" class="halo"></path><text><textPath startOffset="50%" xlink:href="#13976799888103"><tspan dy="-5">0 / 2</tspan></textPath></text></g><g class="link"><path d="M410.51031512637843,298.1068849513953L550.1911418330886,304.03423597535544" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888104" class="link"></path><path d="M410.51031512637843,298.1068849513953L550.1911418330886,304.03423597535544" class="halo"></path><text><textPath startOffset="50%" xlink:href="#13976799888104"><tspan dy="-5">0 / 4</tspan></textPath></text></g><g class="link"><path d="M407.2400327958064,289.35310676275816L529.1299513632026,174.08843204859977" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888105" class="link"></path><path d="M407.2400327958064,289.35310676275816L529.1299513632026,174.08843204859977" class="halo"></path><text><textPath startOffset="50%" xlink:href="#13976799888105"><tspan dy="-5">0 / 8</tspan></textPath></text></g><g class="link"><path d="M384.8197177579755,155.7583146590813L524.4970593353322,161.68705918547525" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888106" class="link"></path><path d="M384.8197177579755,155.7583146590813L524.4970593353322,161.68705918547525" class="halo"></path><text><textPath startOffset="50%" xlink:href="#13976799888106"><tspan dy="-5">0 / 9</tspan></textPath></text></g><g class="link"><path d="M578.7665059364476,301.6474359243595L829.5799130156876,234.40235657660918" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888107" class="link"></path><path d="M578.7665059364476,301.6474359243595L829.5799130156876,234.40235657660918" class="halo"></path><text><textPath startOffset="50%" xlink:href="#13976799888107"><tspan dy="-5">0 / 10</tspan></textPath></text></g><g class="link"><path d="M543.6133577337723,174.2171544281399L564.156101149162,288.02533503957477" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888108" class="link"></path><path d="M543.6133577337723,174.2171544281399L564.156101149162,288.02533503957477" class="halo"></path><text><textPath startOffset="50%" xlink:href="#13976799888108"><tspan dy="-5">0 / 6</tspan></textPath></text></g><g class="link"><path d="M553.196651456908,165.00827193878857L829.4039120742574,226.31627015634666" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888109" class="link"></path><path d="M553.196651456908,165.00827193878857L829.4039120742574,226.31627015634666" class="halo"></path><text><textPath startOffset="50%" xlink:href="#13976799888109"><tspan dy="-5">0 / 10</tspan></textPath></text></g></g><g><g transform="translate(94,230)" class="node"><circle style="fill: steelblue; stroke: grey;" r="12"></circle><text class="id" y="4">s</text></g><g transform="translate(846,230)" class="node"><circle style="fill: brown; stroke: grey;" r="12"></circle><text class="id" y="4">t</text></g><g transform="translate(398.5211049141146,297.59812323295733)" class="node"><circle style="fill: steelblue; stroke: grey;" r="12"></circle><text class="id" y="4">a</text></g><g transform="translate(372.83051315072805,155.2494208729573)" class="node"><circle style="fill: steelblue; stroke: grey;" r="12"></circle><text class="id" y="4">b</text></g><g transform="translate(567.1758563004624,304.7549817431425)" class="node"><circle style="fill: brown; stroke: grey;" r="12"></circle><text class="id" y="4">c</text></g><g transform="translate(541.4817658622661,162.40799204915092)" class="node"><circle style="fill: brown; stroke: grey;" r="12"></circle><text class="id" y="4">d</text></g></g></svg>
</div>

*Definition:*  The **cut-set** is the set of edges whose vertices lie in different sets of the partition.

Below, the brown edges are in the cut-set of the above cut.

<div class="svg-container">
<svg viewBox="70, 100, 800, 260" height="260" width="800" class="editor active"><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="10" markerWidth="10" refX="6" viewBox="0 -5 10 10" id="end-arrow"><path d="M0,-5L10,0L0,5"></path></marker></defs><path d="M0,0L0,0" class="link dragline hidden"></path><g><g class="link"><path d="M105.71484101266599,232.60048073401035L381.92508014617107,293.91410885977604" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888101" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888101"><tspan dy="-5">0 / 10</tspan></textPath></text></g><g class="link"><path d="M105.59071316613242,226.89269114820488L356.4103361653738,159.65144174633375" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888102" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888102"><tspan dy="-5">0 / 10</tspan></textPath></text></g><g class="link"><path d="M396.38981897139263,285.7889056369286L375.84983490291745,171.97914580066475" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888103" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888103"><tspan dy="-5">0 / 2</tspan></textPath></text></g><g class="link"><path d="M410.51031512637843,298.1068849513953L550.1911418330886,304.03423597535544" style="stroke:brown;marker-end: url(&quot;#end-arrow&quot;);" id="13976799888104" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888104"><tspan dy="-5">0 / 4</tspan></textPath></text></g><g class="link"><path d="M407.2400327958064,289.35310676275816L529.1299513632026,174.08843204859977" style="stroke:brown;marker-end: url(&quot;#end-arrow&quot;);" id="13976799888105" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888105"><tspan dy="-5">0 / 8</tspan></textPath></text></g><g class="link"><path d="M384.8197177579755,155.7583146590813L524.4970593353322,161.68705918547525" style="stroke:brown;marker-end: url(&quot;#end-arrow&quot;);" id="13976799888106" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888106"><tspan dy="-5">0 / 9</tspan></textPath></text></g><g class="link"><path d="M578.7665059364476,301.6474359243595L829.5799130156876,234.40235657660918" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888107" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888107"><tspan dy="-5">0 / 10</tspan></textPath></text></g><g class="link"><path d="M543.6133577337723,174.2171544281399L564.156101149162,288.02533503957477" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888108" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888108"><tspan dy="-5">0 / 6</tspan></textPath></text></g><g class="link"><path d="M553.196651456908,165.00827193878857L829.4039120742574,226.31627015634666" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888109" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888109"><tspan dy="-5">0 / 10</tspan></textPath></text></g></g><g><g transform="translate(94,230)" class="node"><circle style="fill: lightgrey; stroke: grey;" r="12"></circle><text class="id" y="4">s</text></g><g transform="translate(846,230)" class="node"><circle style="fill: lightgrey; stroke: grey;" r="12"></circle><text class="id" y="4">t</text></g><g transform="translate(398.5211049141146,297.59812323295733)" class="node"><circle style="fill: lightgrey; stroke: grey;" r="12"></circle><text class="id" y="4">a</text></g><g transform="translate(372.83051315072805,155.2494208729573)" class="node"><circle style="fill: lightgrey; stroke: grey;" r="12"></circle><text class="id" y="4">b</text></g><g transform="translate(567.1758563004624,304.7549817431425)" class="node"><circle style="fill: lightgrey; stroke: grey;" r="12"></circle><text class="id" y="4">c</text></g><g transform="translate(541.4817658622661,162.40799204915092)" class="node"><circle style="fill: lightgrey; stroke: grey;" r="12"></circle><text class="id" y="4">d</text></g></g></svg>
</div>








*Definition:* With respect to a cut, a **forward directed edge** or **forward edge** is an edge which has flow from a vertex in the source's partition to a vertex in the sink's partition.

*Definition:*  Finally, the **Minimum Cut** is the cut for which the sum of the weights of the forward directed edges in the cut-set's are minimuized. In other words, The Minimum Cut is the cut $P$ corresponding to the cut-set $C$ of forward edges such that for all valid cut-sets $K$, we have:

$$ \sum_{\forall e \in K}{ cap(e) } > \sum_{\forall e \in C}{ cap(e) } $$

Continuing the above example, let us find the minimum cut. Can you find it? How would you go about finding the cut? The most obvious way is to just apply the definition and consider all valid cuts, then take the one with the minimum sum of capacities. This has complexity $O(2^{|V|})$, which is very poor. I should note that this is a loose upper bound, for a more precise bound see: [Stirling Numbers of the second kind](http://en.wikipedia.org/wiki/Stirling_numbers_of_the_second_kind).

The following is the minimum cut for the given graph.

<div class="svg-container">
<svg viewBox="70, 100, 800, 260" height="260" width="800" class="editor active"><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="10" markerWidth="10" refX="6" viewBox="0 -5 10 10" id="end-arrow"><path d="M0,-5L10,0L0,5"></path></marker></defs><g><g class="link"><path d="M105.71484101266599,232.60048073401035L381.92508014617107,293.91410885977604" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888101" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888101"><tspan dy="-5">0 / 10</tspan></textPath></text></g><g class="link" stroke="lightgrey"><path d="M105.59071316613242,226.89269114820488L356.4103361653738,159.65144174633375" style="stroke:lightgrey;marker-end: url(&quot;#end-arrow&quot;);" id="13976799888102" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888102"><tspan dy="-5">0 / 10</tspan></textPath></text></g><g class="link" stroke="lightgrey"><path d="M396.38981897139263,285.7889056369286L375.84983490291745,171.97914580066475" style="stroke:lightgrey;marker-end: url(&quot;#end-arrow&quot;);" id="13976799888103" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888103"><tspan dy="-5">0 / 2</tspan></textPath></text></g><g class="link" stroke="lightgrey"><path d="M410.51031512637843,298.1068849513953L550.1911418330886,304.03423597535544" style="stroke:lightgrey;marker-end: url(&quot;#end-arrow&quot;);" id="13976799888104" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888104"><tspan dy="-5">0 / 4</tspan></textPath></text></g><g class="link" stroke="lightgrey"><path d="M407.2400327958064,289.35310676275816L529.1299513632026,174.08843204859977" style="stroke:lightgrey;marker-end: url(&quot;#end-arrow&quot;);" id="13976799888105" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888105"><tspan dy="-5">0 / 8</tspan></textPath></text></g><g class="link"><path d="M384.8197177579755,155.7583146590813L524.4970593353322,161.68705918547525" style="marker-end: url(&quot;#end-arrow&quot;);" id="13976799888106" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888106"><tspan dy="-5">0 / 9</tspan></textPath></text></g><g class="link" stroke="lightgrey"><path d="M578.7665059364476,301.6474359243595L829.5799130156876,234.40235657660918" style="stroke:lightgrey;marker-end: url(&quot;#end-arrow&quot;);" id="13976799888107" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888107"><tspan dy="-5">0 / 10</tspan></textPath></text></g><g class="link" stroke="lightgrey"><path d="M543.6133577337723,174.2171544281399L564.156101149162,288.02533503957477" style="stroke:lightgrey;marker-end: url(&quot;#end-arrow&quot;);" id="13976799888108" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888108"><tspan dy="-5">0 / 6</tspan></textPath></text></g><g class="link" stroke="lightgrey"><path d="M553.196651456908,165.00827193878857L829.4039120742574,226.31627015634666" style="stroke:lightgrey;marker-end: url(&quot;#end-arrow&quot;);" id="13976799888109" class="link"></path><text><textPath startOffset="50%" xlink:href="#13976799888109"><tspan dy="-5">0 / 10</tspan></textPath></text></g></g><g><g transform="translate(94,230)" class="node"><circle style="fill: steelblue; stroke: grey;" r="12"></circle><text class="id" y="4">s</text></g><g transform="translate(846,230)" class="node"><circle style="fill: brown; stroke: grey;" r="12"></circle><text class="id" y="4">t</text></g><g transform="translate(398.5211049141146,297.59812323295733)" class="node"><circle style="fill: brown; stroke: grey;" r="12"></circle><text class="id" y="4">a</text></g><g transform="translate(372.83051315072805,155.2494208729573)" class="node"><circle style="fill: steelblue; stroke: grey;" r="12"></circle><text class="id" y="4">b</text></g><g transform="translate(567.1758563004624,304.7549817431425)" class="node"><circle style="fill: brown; stroke: grey;" r="12"></circle><text class="id" y="4">c</text></g><g transform="translate(541.4817658622661,162.40799204915092)" class="node"><circle style="fill: brown; stroke: grey;" r="12"></circle><text class="id" y="4">d</text></g></g></svg>
</div>

For the $st$-cut we have $A=\{s,b\}$, $B=\{a,c,d,t\}$ and for the cut-set we have $\{(s,a),(b,d),(a,b)\}$. Notice the subtlety here: although the edge $(a,b)$ is in the cut-set it is not a forward edge, hence we do not count its capacity. It follows that the value of the minimum cut is $19$.

*Remark:* For a proof that the max-flow$\equiv$the min-cut see the text listed in the resources or the acompanying slides.

## Ford-Fulkerson

As the name implies the Ford-Fulkerson algorithm was developed by Ford and Fulkerson. The algorithm is a means to solve for the max-flow / min-cut.

*Definition:* The **residual graph** of a network flow is isomorphic to the original network. The verticies remain unchanged. The edges are mapped as follows: consider an edge $(a,b)$ with capacity $c$ and flow $f$. In the residual graph, this information is represented as an edge $(a,b)$ with a value of $c-f$ and an edge $(b,a)$ with a value of $f$. (See the example below.)

<div class="svg-container">
<svg height="760" width="940" class="steps"><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="10" markerWidth="10" refX="10" viewBox="0 -5 10 10" id="end-arrow-flow"><path d="M0,-5L10,0L0,5"></path></marker><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="10" markerWidth="10" refY="-0.5" refX="10" viewBox="0 -5 10 10" id="end-arrow-res"><path d="M0,-5L10,0L0,5"></path></marker></defs><g class="flow"><g><g class="link sending"><path d="M103.96791051172524,229.19952512204475L397.8850448020741,205.59645586061094" id="flow0-2" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow0-2"><tspan dy="-5">4 / 10</tspan></textPath></text></g><g class="link sending"><path d="M417.06756523631435,208.68068997766264L596.1903440708564,284.19553824584244" id="flow2-4" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow2-4"><tspan dy="-5">4 / 4</tspan></textPath></text></g><g class="link"><path d="M417.2436013807008,201.35857404628808L603.2293489190046,133.27926468896848" id="flow2-5" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow2-5"><tspan dy="-5">0 / 8</tspan></textPath></text></g><g class="link sending"><path d="M615.1257246452656,285.73362883700224L836.2792293481059,232.34661840384715" id="flow4-1" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow4-1"><tspan dy="-5">4 / 10</tspan></textPath></text></g><g class="link"><path d="M612.1645080041991,139.83147894709546L605.8604409750784,278.09062604635477" id="flow5-4" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow5-4"><tspan dy="-5">0 / 6</tspan></textPath></text></g><g class="link"><path d="M621.8094747173707,133.7856455593928L836.8105202685354,226.05621219320807" id="flow5-1" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow5-1"><tspan dy="-5">0 / 10</tspan></textPath></text></g></g><g><g transform="translate(94,230)" class="node"><circle style="stroke: rgb(21, 83, 125);" fill="#1f77b4" r="12"></circle><text y="4" class="name" x="0">s</text></g><g transform="translate(846,230)" class="node"><circle style="stroke: rgb(121, 139, 162);" fill="#aec7e8" r="12"></circle><text y="4" class="name" x="0">t</text></g><g transform="translate(407.8529553137993,204.7959809826557)" class="node"><circle style="stroke: rgb(178, 88, 9);" fill="#ff7f0e" r="12"></circle><text y="4" class="name" x="0">x</text></g><g transform="translate(605.4049539933715,288.08024724084936)" class="node"><circle style="stroke: rgb(178, 130, 84);" fill="#ffbb78" r="12"></circle><text y="4" class="name" x="0">z</text></g><g transform="translate(612.619994985906,129.84185775260087)" class="node"><circle style="stroke: rgb(30, 112, 30);" fill="#2ca02c" r="12"></circle><text y="4" class="name" x="0">y</text></g></g></g><g transform="translate(0,380)" class="residual"><g><g class="link resending"><path d="M103.9727755519347,229.26260743783686A603.6925283417833,603.6925283417833 0 0,1 385.0517288246944,208.47947355052847" id="res02" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res02"><tspan>6</tspan></textPath></text></g><g class="link sending"><path d="M836.5095337849092,233.1513570124978A507.6432447924521,507.6432447924521 0 0,1 614.6019130139977,306.8368979536939" id="res14" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res14"><tspan>4</tspan></textPath></text></g><g class="link"><path d="M837.0158473709816,225.60853082232128A517.7227220209803,517.7227220209803 0 0,1 622.4191549216514,120.71330036072554" id="res15" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res15"><tspan>0</tspan></textPath></text></g><g class="link sending"><path d="M385.0517288246944,208.47947355052847A603.6925283417833,603.6925283417833 0 0,1 103.9727755519347,229.26260743783686" id="res20" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res20"><tspan>4</tspan></textPath></text></g><g class="link resending"><path d="M404.01615279590095,212.11818184463075A467.2934986470296,467.2934986470296 0 0,1 596.1197983796351,305.6121541099263" id="res24" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res24"><tspan>0</tspan></textPath></text></g><g class="link"><path d="M404.24902558569005,203.88096606342648A473.5432722545368,473.5432722545368 0 0,1 604.2104810835722,120.18294610798567" id="res25" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res25"><tspan>8</tspan></textPath></text></g><g class="link sending"><path d="M596.1197983796351,305.6121541099263A467.2934986470296,467.2934986470296 0 0,1 404.01615279590095,212.11818184463075" id="res42" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res42"><tspan>4</tspan></textPath></text></g><g class="link resending"><path d="M614.6019130139977,306.8368979536939A507.6432447924521,507.6432447924521 0 0,1 836.5095337849092,233.1513570124978" id="res41" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res41"><tspan>6</tspan></textPath></text></g><g class="link"><path d="M605.5408386581007,299.9974780879275A387.6904191594618,387.6904191594618 0 0,1 613.0056104334392,126.312608061311" id="res45" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res45"><tspan>0</tspan></textPath></text></g><g class="link"><path d="M604.2104810835722,120.18294610798567A473.5432722545368,473.5432722545368 0 0,1 404.24902558569005,203.88096606342648" id="res52" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res52"><tspan>0</tspan></textPath></text></g><g class="link"><path d="M613.0056104334392,126.312608061311A387.6904191594618,387.6904191594618 0 0,1 605.5408386581007,299.9974780879275" id="res54" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res54"><tspan>6</tspan></textPath></text></g><g class="link"><path d="M622.4191549216514,120.71330036072554A517.7227220209803,517.7227220209803 0 0,1 837.0158473709816,225.60853082232128" id="res51" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res51"><tspan>10</tspan></textPath></text></g></g><g><g transform="translate(94,230)" class="node"><circle style="stroke: rgb(21, 83, 125);" fill="#1f77b4" r="12"></circle><text y="4" x="0" class="name">s</text></g><g transform="translate(846,230)" class="node"><circle style="stroke: rgb(121, 139, 162);" fill="#aec7e8" r="12"></circle><text y="4" x="0" class="name">t</text></g><g transform="translate(395.0245043766291,207.74208098836533)" class="node"><circle style="stroke: rgb(178, 88, 9);" fill="#ff7f0e" r="12"></circle><text y="4" x="0" class="name">x</text></g><g transform="translate(605.1114467989069,309.9882549661917)" class="node"><circle style="stroke: rgb(178, 130, 84);" fill="#ffbb78" r="12"></circle><text y="4" x="0" class="name">z</text></g><g transform="translate(613.435002292633,116.32183118304683)" class="node"><circle style="stroke: rgb(30, 112, 30);" fill="#2ca02c" r="12"></circle><text y="4" x="0" class="name">y</text></g></g></g></svg>
</div>

You may ask yourself why we bother with the arguably more complicated representation of the same information. The beauty of this representation is that we can simply do a search from the source for the sink to find a path to "push" more flow through. We call this leftover flow **residual capacity** and such paths **augmenting paths**. Can you spot an augmenting path in the above flow?

Yep, you guessed it! (Well, maybe you didn't, but in fact there are two valid augmenting paths.)

<div class="svg-container">
<svg height="760" width="940" class="steps"><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="10" markerWidth="10" refX="10" viewBox="0 -5 10 10" id="end-arrow-flow"><path d="M0,-5L10,0L0,5"></path></marker><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="10" markerWidth="10" refY="-0.5" refX="10" viewBox="0 -5 10 10" id="end-arrow-res"><path d="M0,-5L10,0L0,5"></path></marker></defs><g class="flow"><g><g class="link sending"><path d="M103.96791051172524,229.19952512204475L397.8850448020741,205.59645586061094" id="flow0-2" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow0-2"><tspan dy="-5">10 / 10</tspan></textPath></text></g><g class="link"><path d="M417.06756523631435,208.68068997766264L596.1903440708564,284.19553824584244" id="flow2-4" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow2-4"><tspan dy="-5">4 / 4</tspan></textPath></text></g><g class="link sending"><path d="M417.2436013807008,201.35857404628808L603.2293489190046,133.27926468896848" id="flow2-5" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow2-5"><tspan dy="-5">6 / 8</tspan></textPath></text></g><g class="link sending"><path d="M615.1257246452656,285.73362883700224L836.2792293481059,232.34661840384715" id="flow4-1" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow4-1"><tspan dy="-5">10 / 10</tspan></textPath></text></g><g class="link sending"><path d="M612.1645080041991,139.83147894709546L605.8604409750784,278.09062604635477" id="flow5-4" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow5-4"><tspan dy="-5">6 / 6</tspan></textPath></text></g><g class="link"><path d="M621.8094747173707,133.7856455593928L836.8105202685354,226.05621219320807" id="flow5-1" marker-end="url(#end-arrow-flow)" class="link"></path><text><textPath startOffset="50%" xlink:href="#flow5-1"><tspan dy="-5">0 / 10</tspan></textPath></text></g></g><g><g transform="translate(94,230)" class="node"><circle style="stroke: rgb(21, 83, 125);" fill="#1f77b4" r="12"></circle><text y="4" class="name" x="0">s</text></g><g transform="translate(846,230)" class="node"><circle style="stroke: rgb(121, 139, 162);" fill="#aec7e8" r="12"></circle><text y="4" class="name" x="0">t</text></g><g transform="translate(407.8529553137993,204.7959809826557)" class="node"><circle style="stroke: rgb(178, 88, 9);" fill="#ff7f0e" r="12"></circle><text y="4" class="name" x="0">x</text></g><g transform="translate(605.4049539933715,288.08024724084936)" class="node"><circle style="stroke: rgb(178, 130, 84);" fill="#ffbb78" r="12"></circle><text y="4" class="name" x="0">z</text></g><g transform="translate(612.619994985906,129.84185775260087)" class="node"><circle style="stroke: rgb(30, 112, 30);" fill="#2ca02c" r="12"></circle><text y="4" class="name" x="0">y</text></g></g></g><g transform="translate(0,380)" class="residual"><g><g class="link resending"><path d="M103.9727755519347,229.26260743783686A603.6925283417833,603.6925283417833 0 0,1 385.0517288246944,208.47947355052847" id="res02" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res02"><tspan>0</tspan></textPath></text></g><g class="link sending"><path d="M836.5095337849092,233.1513570124978A507.6432447924521,507.6432447924521 0 0,1 614.6019130139977,306.8368979536939" id="res14" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res14"><tspan>10</tspan></textPath></text></g><g class="link"><path d="M837.0158473709816,225.60853082232128A517.7227220209803,517.7227220209803 0 0,1 622.4191549216514,120.71330036072554" id="res15" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res15"><tspan>0</tspan></textPath></text></g><g class="link sending"><path d="M385.0517288246944,208.47947355052847A603.6925283417833,603.6925283417833 0 0,1 103.9727755519347,229.26260743783686" id="res20" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res20"><tspan>10</tspan></textPath></text></g><g class="link"><path d="M404.01615279590095,212.11818184463075A467.2934986470296,467.2934986470296 0 0,1 596.1197983796351,305.6121541099263" id="res24" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res24"><tspan>0</tspan></textPath></text></g><g class="link resending"><path d="M404.24902558569005,203.88096606342648A473.5432722545368,473.5432722545368 0 0,1 604.2104810835722,120.18294610798567" id="res25" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res25"><tspan>2</tspan></textPath></text></g><g class="link"><path d="M596.1197983796351,305.6121541099263A467.2934986470296,467.2934986470296 0 0,1 404.01615279590095,212.11818184463075" id="res42" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res42"><tspan>4</tspan></textPath></text></g><g class="link resending"><path d="M614.6019130139977,306.8368979536939A507.6432447924521,507.6432447924521 0 0,1 836.5095337849092,233.1513570124978" id="res41" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res41"><tspan>0</tspan></textPath></text></g><g class="link sending"><path d="M605.5408386581007,299.9974780879275A387.6904191594618,387.6904191594618 0 0,1 613.0056104334392,126.312608061311" id="res45" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res45"><tspan>6</tspan></textPath></text></g><g class="link sending"><path d="M604.2104810835722,120.18294610798567A473.5432722545368,473.5432722545368 0 0,1 404.24902558569005,203.88096606342648" id="res52" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res52"><tspan>6</tspan></textPath></text></g><g class="link resending"><path d="M613.0056104334392,126.312608061311A387.6904191594618,387.6904191594618 0 0,1 605.5408386581007,299.9974780879275" id="res54" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res54"><tspan>0</tspan></textPath></text></g><g class="link"><path d="M622.4191549216514,120.71330036072554A517.7227220209803,517.7227220209803 0 0,1 837.0158473709816,225.60853082232128" id="res51" marker-end="url(#end-arrow-res)" class="link"></path><text text-anchor="middle"><textPath startOffset="50%" xlink:href="#res51"><tspan>10</tspan></textPath></text></g></g><g><g transform="translate(94,230)" class="node"><circle style="stroke: rgb(21, 83, 125);" fill="#1f77b4" r="12"></circle><text y="4" x="0" class="name">s</text></g><g transform="translate(846,230)" class="node"><circle style="stroke: rgb(121, 139, 162);" fill="#aec7e8" r="12"></circle><text y="4" x="0" class="name">t</text></g><g transform="translate(395.0245043766291,207.74208098836533)" class="node"><circle style="stroke: rgb(178, 88, 9);" fill="#ff7f0e" r="12"></circle><text y="4" x="0" class="name">x</text></g><g transform="translate(605.1114467989069,309.9882549661917)" class="node"><circle style="stroke: rgb(178, 130, 84);" fill="#ffbb78" r="12"></circle><text y="4" x="0" class="name">z</text></g><g transform="translate(613.435002292633,116.32183118304683)" class="node"><circle style="stroke: rgb(30, 112, 30);" fill="#2ca02c" r="12"></circle><text y="4" x="0" class="name">y</text></g></g></g></svg>
</div>

Consider the above graph, can you find another augmenting path? The answer is simple: no. In fact, we can't even leave the source since there is no remaining capacity to vertex $x$. This is an excellent certificate that we have pushed as much flow through the network as is possible.

Lets backtrack a bit. What is this algorithm anyway? Informally, Ford-Fulkerson goes like this: 

#. Map the network to a residual graph.
#. Begin a search for the sink at the source along non-zero edges. Two possible cases result.
    i. We cannot reach the sink, and hence have our certificate of having saturated the network.
    #. We reach the sink.
        - Push as much flow as possible through the path.
        - Start a new search.

Pretty simple stuff, and again for proof see the text or slides.

## Applications

Now we're talking! So far, I bet this has seemed specific to a network of pipes and fluid. Hopefully though, you can see how it would translate to other situations. (For example, cars moving from one place to another through a network of streets.) Let's take it one step further though for our first application problem, lets see if we can apply this to a quality control problem. (Credit again goes to Kleinberg and Tardos for this problem.)

- TODO



## Notes and References
- The book I have is [Algorithm Design](http://books.google.com/books/about/Algorithm_Design.html?id=OiGhQgAACAAJ) by Jon Kleinberg and Eva Tardos.
- The slides which acompany the text are available online [here](http://www.cs.princeton.edu/~wayne/kleinberg-tardos/).
</div>
